<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>simple state</title>
  <script type="module" src="../../dist/auto.js"></script>
  <style>
    .over {
      color: red;
    }
  </style>
</head>
<body>
  <wcs-state>
    <script type="module">
export default {
  count: 0,
  user: { id: 1, name: "Alice" },
  users: [
    { id: 1, name: "Alice" },
    { id: 2, name: "Bob" },
    { id: 3, name: "Charlie" }
  ],
  countUp() {
    this.count += 1;
  },
  clearCount() {
    this.count = 0;
  },
  toggle: false,
  toggleName(e) {
    if (this.toggle === false) {
      this["user.name"] = this["user.name"].toUpperCase();
    } else {
      this["user.name"] = this["user.name"].toLowerCase();
    }
    this.toggle = !this.toggle;
  },
  get "users.*.dispName"() {
    return this["users.*.name"] + " (ID: " + this["users.*.id"] + ")";
  },
  isActive: true
};
    </script>
  </wcs-state>

  <div data-wcs="textContent: count; class.over: count|gt(10)"></div>
  <button name="increment" data-wcs="onclick: countUp">Increment</button>
  <button name="clear" data-wcs="onclick: clearCount">clear</button>
  <br>

  <input type="text" name="userName" data-wcs="value: user.name">
  <div data-wcs="textContent: user.name"></div>
  {{ user.name }}
  <br>
  <button name="toggleName" data-wcs="onclick: toggleName">Toggle Name</button>
  <br>
  {{ isActive }}
  <input type="checkbox" name="toggle" data-wcs="checked: isActive">
  <div>
  </div>
  <div>
    <template data-wcs="if: toggle">
      toggle on
    </template>
    <template data-wcs="elseif: isActive">
      toggle off / isActive on
    </template>
    <template data-wcs="else:">
      toggle off / isActive off
    </template>
  </div>
  <template data-wcs="for: users">
    <div>
      <span data-wcs="textContent: .id"></span>:
      <input type="text" data-wcs="value: .name">
      <span data-wcs="textContent: .name"></span>
      <span data-wcs="textContent: .dispName"></span>
    </div>
  </template>

  <div>
  </div>

</body>
</html>