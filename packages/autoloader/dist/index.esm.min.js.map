{"version":3,"file":"index.esm.min.js","sources":["../src/importmap.ts","../src/config.ts","../src/vanilla.ts","../src/resolveLoader.ts","../src/tags.ts","../src/eagerload.ts","../src/lazyLoad.ts","../src/handler.ts","../src/addLoader.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null],"names":["COMPONENT_KEYWORD","getKeyInfoFromImportmapKey","key","startsWith","endsWith","prefixWithLoader","slice","length","prefix","loaderKey","split","Error","replaceAll","toLowerCase","isNameSpaced","tagNamePart","tagName","loaderKeyPart","extendsText","extends","DEFAULT_KEY","VANILLA_KEY","VANILLA_LOADER","postfix","loader","async","path","import","default","config","scanImportmap","loaders","observable","resolveLoader","resolvedLoader","candidates","l","Object","entries","currentLoader","push","sort","a","b","failedTags","Set","loadingTags","EXTENDS_MAP","Map","window","HTMLButtonElement","HTMLInputElement","HTMLAnchorElement","HTMLImageElement","HTMLDivElement","HTMLSpanElement","HTMLParagraphElement","HTMLUListElement","HTMLOListElement","HTMLLIElement","HTMLTableElement","HTMLFormElement","HTMLLabelElement","HTMLSelectElement","HTMLTextAreaElement","HTMLHeadingElement","HTMLQuoteElement","HTMLPreElement","HTMLBRElement","HTMLHRElement","HTMLModElement","HTMLTableCaptionElement","HTMLTableColElement","HTMLTableSectionElement","HTMLTableRowElement","HTMLTableCellElement","HTMLFieldSetElement","HTMLLegendElement","HTMLDListElement","HTMLOptGroupElement","HTMLOptionElement","HTMLStyleElement","HTMLScriptElement","HTMLTemplateElement","HTMLCanvasElement","HTMLIFrameElement","HTMLObjectElement","HTMLEmbedElement","HTMLVideoElement","HTMLAudioElement","HTMLTrackElement","HTMLMapElement","HTMLAreaElement","HTMLSourceElement","HTMLParamElement","HTMLMeterElement","HTMLProgressElement","HTMLOutputElement","HTMLDetailsElement","HTMLDialogElement","HTMLMenuElement","HTMLSlotElement","HTMLTimeElement","HTMLDataElement","HTMLPictureElement","forEach","cls","tag","set","eagerLoadItem","info","componentConstructor","extendsName","prototype","resolveExtends","customElements","define","e","has","console","error","add","getCustomTagInfo","elementTagName","name","includes","getAttribute","observedCustomElements","WeakSet","checkObserveShadowRoot","element","prefixMap","shadowRoot","handlerForLazyLoad","observeShadowRoot","tagLoad","tagInfo","matchNameSpace","_e","file","delete","lazyLoad","root","elements","walker","document","createTreeWalker","NodeFilter","SHOW_ELEMENT","node","Element","isCustomElement","FILTER_ACCEPT","FILTER_SKIP","nextNode","currentNode","tagInfos","tagNames","undefined","get","whenDefined","then","tagCount","lazyLoads","keys","MutationObserver","observe","childList","subtree","registerHandler","importmap","imports","querySelectorAll","script","json","JSON","parse","innerHTML","assign","loadImportmap","loadMap","_value","keyInfo","buildMap","addEventListener","promises","Promise","all","eagerLoad","addLoader"],"mappings":"AAEA,MAAMA,EAAoB,eAmB1B,SAASC,EAA2BC,GAClC,GAAIA,EAAIC,WAAWH,GAAoB,CACrC,GAAIE,EAAIE,SAAS,KAAM,CACrB,MAAMC,EAAmBH,EAAII,MAAMN,GAA0BE,EAAIK,OAAS,IAClEC,EAAQC,GAAcJ,EAAiBK,MAAM,IAAK,GAC1D,GAAe,KAAXF,EACF,MAAM,IAAIG,MAAM,0BAA4BT,GAE9C,MAAO,CACLA,MACAM,OAAQA,EAAOI,WAAW,IAAK,KAAKC,cACpCJ,UAAWA,GAAa,KACxBK,cAAc,EAElB,CAAO,CACL,MAAMC,EAAcb,EAAII,MAAMN,KACtBgB,EAASC,GAAkBF,EAAYL,MAAM,IAAK,IAClDD,EAAWS,IAAiBD,GAAiB,IAAIP,MAAM,IAAK,GACpE,GAAgB,KAAZM,EACF,MAAM,IAAIL,MAAM,0BAA4BT,GAE9C,MAAO,CACLA,MACAc,QAASA,EAAQJ,WAAW,IAAK,KAAKC,cACtCJ,UAAWA,GAAa,KACxBU,QAASD,GAAe,KACxBJ,cAAc,EAElB,CACF,CACA,OAAO,IACT,CChDO,MAAMM,EAAc,IAEdC,EAAc,UAEdC,EAAiB,CAC5BC,QAAS,MACTC,OCRKC,eAAoBC,GAEzB,aADqBC,OAAOD,IACdE,OAChB,GDiBaC,EATmB,CAC9BC,eAAe,EACfC,QAAS,CACPV,CAACA,GAAcC,EACfF,CAACA,GAAcC,GAEjBW,YAAY,YEhBEC,EACdP,EACAjB,EACAsB,GAEA,IAAIP,EAEJ,GAAkB,OAAdf,GAAsBA,IAAcW,GAA6B,KAAdX,EAAkB,CAEvE,IAAIyB,EAAiC,KAErC,MAAMC,EAAwB,GAC9B,IAAK,MAAOjC,EAAKkC,KAAMC,OAAOC,QAAQP,GAAU,CAC9C,GAAI7B,IAAQkB,EAAa,SACzB,MAAMmB,EAA6B,iBAANH,EAAiBL,EAAQK,GAAKA,EAC9B,iBAAlBG,GACXJ,EAAWK,KAAKD,EAClB,CAGAJ,EAAWM,KAAK,CAACC,EAAGC,IAAMA,EAAEpB,QAAQhB,OAASmC,EAAEnB,QAAQhB,QAEvD,IAAK,MAAMgC,KAAiBJ,EAC1B,GAAIT,EAAKtB,SAASmC,EAAchB,SAAU,CACxCW,EAAiBK,EACjB,KACF,CAGEL,EACFV,EAASU,GAETV,EAASO,EAAQX,GACK,iBAAXI,IACTA,EAASO,EAAQP,IAGvB,MAEE,GADAA,EAASO,EAAQtB,IACZe,EACH,MAAM,IAAIb,MAAM,qBAAuBF,GAI3C,GAAsB,iBAAXe,EACT,MAAM,IAAIb,MAAM,4CAElB,OAAOa,CACT,CClDO,MAAMoB,EAAa,IAAIC,IACjBC,EAAc,IAAID,ICEzBE,EAAc,IAAIC,IAExB,GAAsB,oBAAXC,OAAwB,CACrB,CACV,CAACC,kBAAmB,UACpB,CAACC,iBAAkB,SACnB,CAACC,kBAAmB,KACpB,CAACC,iBAAkB,OACnB,CAACC,eAAgB,OACjB,CAACC,gBAAiB,QAClB,CAACC,qBAAsB,KACvB,CAACC,iBAAkB,MACnB,CAACC,iBAAkB,MACnB,CAACC,cAAe,MAChB,CAACC,iBAAkB,SACnB,CAACC,gBAAiB,QAClB,CAACC,iBAAkB,SACnB,CAACC,kBAAmB,UACpB,CAACC,oBAAqB,YACtB,CAACC,mBAAoB,MACrB,CAACC,iBAAkB,cACnB,CAACC,eAAgB,OACjB,CAACC,cAAe,MAChB,CAACC,cAAe,MAChB,CAACC,eAAgB,OACjB,CAACC,wBAAyB,WAC1B,CAACC,oBAAqB,OACtB,CAACC,wBAAyB,SAC1B,CAACC,oBAAqB,MACtB,CAACC,qBAAsB,MACvB,CAACC,oBAAqB,YACtB,CAACC,kBAAmB,UACpB,CAACC,iBAAkB,MACnB,CAACC,oBAAqB,YACtB,CAACC,kBAAmB,UACpB,CAACC,iBAAkB,SACnB,CAACC,kBAAmB,UACpB,CAACC,oBAAqB,YACtB,CAACC,kBAAmB,UACpB,CAACC,kBAAmB,UACpB,CAACC,kBAAmB,UACpB,CAACC,iBAAkB,SACnB,CAACC,iBAAkB,SACnB,CAACC,iBAAkB,SACnB,CAACC,iBAAkB,SACnB,CAACC,eAAgB,OACjB,CAACC,gBAAiB,QAClB,CAACC,kBAAmB,UACpB,CAACC,iBAAkB,SACnB,CAACC,iBAAkB,SACnB,CAACC,oBAAqB,YACtB,CAACC,kBAAm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"}