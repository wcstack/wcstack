{"version":3,"file":"index.esm.min.js","sources":["../src/config.ts","../src/vanilla.ts","../src/importmap.ts","../src/resolveLoader.ts","../src/tags.ts","../src/eagerload.ts","../src/lazyLoad.ts","../src/components/Autoloader.ts","../src/registerComponents.ts","../src/bootstrapAutoloader.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null],"names":["DEFAULT_KEY","VANILLA_KEY","VANILLA_LOADER","postfix","loader","async","path","import","default","_config","scanImportmap","loaders","observable","tagNames","autoloader","config","COMPONENT_KEYWORD","getKeyInfoFromImportmapKey","key","startsWith","endsWith","prefixWithLoader","slice","length","prefix","loaderKey","split","Error","replaceAll","toLowerCase","isNameSpaced","tagNamePart","tagName","loaderKeyPart","extendsText","extends","resolveLoader","resolvedLoader","candidates","l","Object","entries","currentLoader","push","sort","a","b","failedTags","Set","loadingTags","EXTENDS_MAP","Map","window","HTMLButtonElement","HTMLInputElement","HTMLAnchorElement","HTMLImageElement","HTMLDivElement","HTMLSpanElement","HTMLParagraphElement","HTMLUListElement","HTMLOListElement","HTMLLIElement","HTMLTableElement","HTMLFormElement","HTMLLabelElement","HTMLSelectElement","HTMLTextAreaElement","HTMLHeadingElement","HTMLQuoteElement","HTMLPreElement","HTMLBRElement","HTMLHRElement","HTMLModElement","HTMLTableCaptionElement","HTMLTableColElement","HTMLTableSectionElement","HTMLTableRowElement","HTMLTableCellElement","HTMLFieldSetElement","HTMLLegendElement","HTMLDListElement","HTMLOptGroupElement","HTMLOptionElement","HTMLStyleElement","HTMLScriptElement","HTMLTemplateElement","HTMLCanvasElement","HTMLIFrameElement","HTMLObjectElement","HTMLEmbedElement","HTMLVideoElement","HTMLAudioElement","HTMLTrackElement","HTMLMapElement","HTMLAreaElement","HTMLSourceElement","HTMLParamElement","HTMLMeterElement","HTMLProgressElement","HTMLOutputElement","HTMLDetailsElement","HTMLDialogElement","HTMLMenuElement","HTMLSlotElement","HTMLTimeElement","HTMLDataElement","HTMLPictureElement","forEach","cls","tag","set","eagerLoadItem","info","customElements","get","componentConstructor","extendsName","prototype","resolveExtends","define","e","has","console","error","add","getCustomTagInfo","elementTagName","name","includes","getAttribute","observedCustomElements","WeakSet","checkObserveShadowRoot","element","prefixMap","shadowRoot","handlerForLazyLoad","observeShadowRoot","tagLoad","tagInfo","matchNameSpace","whenDefined","_e","file","delete","lazyLoad","root","elements","walker","document","createTreeWalker","NodeFilter","SHOW_ELEMENT","node","Element","isCustomElement","FILTER_ACCEPT","FILTER_SKIP","nextNode","currentNode","tagInfos","undefined","then","tagCount","lazyLoads","keys","mo","MutationObserver","observe","childList","subtree","Autoloader","HTMLElement","static","_initialized","_prefixMap","_observer","constructor","super","_instance","this","importmap","imports","querySelectorAll","script","json","JSON","parse","innerHTML","assign","loadImportmap","loadMap","_value","keyInfo","buildMap","promises","Promise","all","eagerLoad","catch","connectedCallback","readyState","r","addEventListener","once","disconnectedCallback","disconnect","registerComponents","bootstrapAutoloader","partialConfig"],"mappings":"AAaO,MAAMA,EAAc,IAEdC,EAAc,UAEdC,EAAiB,CAC5BC,QAAS,MACTC,OClBKC,eAAoBC,GAEzB,aADqBC,OAAO,GAAGD,MACjBE,OAChB,GDkBMC,EAA2B,CAC/BC,eAAe,EACfC,QAAS,CACPV,CAACA,GAAcC,EACfF,CAACA,GAAcC,GAEjBW,YAAY,EACZC,SAAU,CACRC,WAAY,mBAyBHC,EAAkBN,EErD/B,MAAMO,EAAoB,eAmB1B,SAASC,EAA2BC,GAClC,GAAIA,EAAIC,WAAWH,GAAoB,CACrC,GAAIE,EAAIE,SAAS,KAAM,CACrB,MAAMC,EAAmBH,EAAII,MAAMN,GAA0BE,EAAIK,OAAS,IAClEC,EAAQC,GAAcJ,EAAiBK,MAAM,IAAK,GAC1D,GAAe,KAAXF,EACF,MAAM,IAAIG,MAAM,0BAA4BT,GAE9C,MAAO,CACLA,MACAM,OAAQA,EAAOI,WAAW,IAAK,KAAKC,cACpCJ,UAAWA,GAAa,KACxBK,cAAc,EAElB,CAAO,CACL,MAAMC,EAAcb,EAAII,MAAMN,KACtBgB,EAASC,GAAkBF,EAAYL,MAAM,IAAK,IAClDD,EAAWS,IAAiBD,GAAiB,IAAIP,MAAM,IAAK,GACpE,GAAgB,KAAZM,EACF,MAAM,IAAIL,MAAM,0BAA4BT,GAE9C,MAAO,CACLA,MACAc,QAASA,EAAQJ,WAAW,IAAK,KAAKC,cACtCJ,UAAWA,GAAa,KACxBU,QAASD,GAAe,KACxBJ,cAAc,EAElB,CACF,CACA,OAAO,IACT,UCjDgBM,EACd9B,EACAmB,EACAd,GAEA,IAAIP,EAEJ,GAAkB,OAAdqB,GAAsBA,IAAczB,GAA6B,KAAdyB,EAAkB,CAEvE,IAAIY,EAAiC,KAErC,MAAMC,EAAwB,GAC9B,IAAK,MAAOpB,EAAKqB,KAAMC,OAAOC,QAAQ9B,GAAU,CAC9C,GAAIO,IAAQlB,EAAa,SACzB,MAAM0C,EAA6B,iBAANH,EAAiB5B,EAAQ4B,GAAKA,EAC9B,iBAAlBG,GACXJ,EAAWK,KAAKD,EAClB,CAGAJ,EAAWM,KAAK,CAACC,EAAGC,IAAMA,EAAE3C,QAAQoB,OAASsB,EAAE1C,QAAQoB,QAEvD,IAAK,MAAMmB,KAAiBJ,EAC1B,GAAIhC,EAAKc,SAASsB,EAAcvC,SAAU,CACxCkC,EAAiBK,EACjB,KACF,CAGEL,EACFjC,EAASiC,GAETjC,EAASO,EAAQX,GACK,iBAAXI,IACTA,EAASO,EAAQP,IAGvB,MAEE,GADAA,EAASO,EAAQc,IACZrB,EACH,MAAM,IAAIuB,MAAM,qBAAuBF,GAI3C,GAAsB,iBAAXrB,EACT,MAAM,IAAIuB,MAAM,4CAElB,OAAOvB,CACT,CClDO,MAAM2C,EAAa,IAAIC,IACjBC,EAAc,IAAID,ICEzBE,EAAc,IAAIC,IAExB,GAAsB,oBAAXC,OAAwB,CACrB,CACV,CAACC,kBAAmB,UACpB,CAACC,iBAAkB,SACnB,CAACC,kBAAmB,KACpB,CAACC,iBAAkB,OACnB,CAACC,eAAgB,OACjB,CAACC,gBAAiB,QAClB,CAACC,qBAAsB,KACvB,CAACC,iBAAkB,MACnB,CAACC,iBAAkB,MACnB,CAACC,cAAe,MAChB,CAACC,iBAAkB,SACnB,CAACC,gBAAiB,QAClB,CAACC,iBAAkB,SACnB,CAACC,kBAAmB,UACpB,CAACC,oBAAqB,YACtB,CAACC,mBAAoB,MACrB,CAACC,iBAAkB,cACnB,CAACC,eAAgB,OACjB,CAACC,cAAe,MAChB,CAACC,cAAe,MAChB,CAACC,eAAgB,OACjB,CAACC,wBAAyB,WAC1B,CAACC,oBAAqB,OACtB,CAACC,wBAAyB,SAC1B,CAACC,oBAAqB,MACtB,CAACC,qBAAsB,MACvB,CAACC,oBAAqB,YACtB,CAACC,kBAAmB,UACpB,CAACC,iBAAkB,MACnB,CAACC,oBAAqB,YACtB,CAACC,kBAAmB,UACpB,CAACC,iBAAkB,SACnB,CAACC,kBAAmB,UACpB,CAACC,oBAAqB,YACtB,CAACC,kBAAmB,UACpB,CAACC,kBAAmB,UACpB,CAACC,kBAAmB,UACpB,CAACC,iBAAkB,SACnB,CAACC,iBAAkB,SACnB,CAACC,iBAAkB,SACnB,CAACC,iBAAkB,SACnB,CAACC,eAAgB,OACjB,CAACC,gBAAiB,QAClB,CAACC,kBAAmB,UACpB,CAACC,iBAA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"}