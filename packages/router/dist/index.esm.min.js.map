{"version":3,"file":"index.esm.min.js","sources":["../src/config.ts","../src/getUUID.ts","../src/raiseError.ts","../src/assignParams.ts","../src/GuardCancel.ts","../src/components/Route.ts","../src/components/Layout.ts","../src/components/Outlet.ts","../src/components/LayoutOutlet.ts","../src/parse.ts","../src/matchRoutes.ts","../src/applyRoute.ts","../src/showRouteContent.ts","../src/Navigation.ts","../src/components/Router.ts","../src/components/Link.ts","../src/registerComponents.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["config","tagNames","route","router","outlet","layout","layoutOutlet","link","enableShadowRoot","getUUID","crypto","randomUUID","replace","c","r","Math","random","toString","raiseError","message","Error","bindTypeSet","Set","assignParams","element","params","hasAttribute","tagName","bindTypeText","getAttribute","has","bindType","key","value","Object","entries","props","states","setAttribute","GuardCancel","fallbackPath","constructor","super","this","Route","HTMLElement","_name","_path","_routeParentNode","_routeChildNodes","_routerNode","_uuid","_placeHolder","document","createComment","_childNodeArray","_isMadeArray","_paramNames","_patternText","_params","_absolutePattern","_weight","_absoluteWeight","_childIndex","_hasGuard","_guardHandler","_waitForSetGuardHandler","_resolveSetGuardHandler","_guardFallbackPath","_initialized","_isFallbackRoute","_segmentCount","routeParentNode","routeChildNodes","routerNode","path","isRelative","startsWith","_checkParentNode","hasParentCallback","noParentCallback","absolutePath","parentPath","endsWith","uuid","placeHolder","rootElement","shadowRoot","childNodeArray","Array","from","childNodes","testPath","testResult","exec","RegExp","absolutePatternText","absoluteParamNames","forEach","paramName","index","routes","lastPath","concat","patternText","parentPattern","weight","absoluteWeight","childIndex","name","guardCheck","matchResult","toPath","fromPath","show","parentNode","nextSibling","node","insertBefore","appendChild","nodeType","Node","ELEMENT_NODE","querySelectorAll","e","toLowerCase","hide","removeChild","shouldChange","newParams","guardHandler","initialize","push","length","fallbackRoute","segments","split","patternSegments","segmentCount","segment","substring","join","Promise","resolve","fullpath","absoluteSegmentCount","cache","Map","Layout","_loadTemplateFromSource","source","response","fetch","ok","status","templateContent","text","set","error","_loadTemplateFromDocument","id","getElementById","HTMLTemplateElement","innerHTML","loadTemplate","layoutId","console","warn","template","createElement","get","_initialize","connectedCallback","Outlet","_routesNode","_lastRoutes","routesNode","rootNode","lastRoutes","attachShadow","mode","LayoutOutlet","_layout","_layoutChildNodes","content","cloneNode","childNode","fragmentForTemplate","slotElementBySlotName","slotElement","slotName","fragmentBySlotName","fragmentForChildNodes","createDocumentFragment","Element","fragment","replaceWith","defaultSlot","createLayoutOutlet","async","_parseNode","map","appendNode","childFragment","cloneElement","importNode","customElements","upgrade","children","parse","_matchRoutes","routeNode","results","nextRoutes","childRoute","applyRoute","fullPath","basename","sliced","slice","topLevelRoutes","sort","a","b","lastRouteA","at","lastRouteB","diffSegmentCount","diffWeight","matchRoutes","routesSet","err","guardCancel","queueMicrotask","navigate","lastRouteSet","force","showRouteContent","getNavigation","nav","window","navigation","addEventListener","removeEventListener","Router","static","_outlet","_template","_basename","_fallbackRoute","_listeningPopState","_instance","_normalizePathname","_normalizeBasename","_joinInternalPath","to","base","_notifyLocationChange","dispatchEvent","CustomEvent","_getBasename","URL","baseURI","pathname","instance","_getOutlet","querySelector","body","_getTemplate","history","pushState","_onNavigateFunc","navEvent","canIntercept","hashChange","downloadRequest","intercept","handler","url","destination","_onNavigate","bind","_onPopState","location","hasBaseTag","href","disconnectedCallback","Link","_commentNode","_router","_anchorElement","_onClick","commentNode","p","internal","_updateActiveState","defaultPrevented","button","metaKey","ctrlKey","shiftKey","altKey","preventDefault","undefined","remove","currentPath","linkPath","classList","add","registerComponents","define"],"mappings":"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"}