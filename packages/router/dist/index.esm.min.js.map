{"version":3,"file":"index.esm.min.js","sources":["../src/config.ts","../src/getUUID.ts","../src/raiseError.ts","../src/assignParams.ts","../src/GuardCancel.ts","../src/components/Route.ts","../src/components/Layout.ts","../src/components/Outlet.ts","../src/components/LayoutOutlet.ts","../src/parse.ts","../src/matchRoutes.ts","../src/applyRoute.ts","../src/showRouteContent.ts","../src/Navigation.ts","../src/components/Router.ts","../src/components/Link.ts","../src/registerComponents.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["config","tagNames","route","router","outlet","layout","layoutOutlet","link","enableShadowRoot","getUUID","crypto","randomUUID","replace","c","r","Math","random","toString","raiseError","message","Error","bindTypeSet","Set","assignParams","element","params","hasAttribute","tagName","bindTypeText","getAttribute","has","bindType","key","value","Object","entries","props","states","setAttribute","GuardCancel","fallbackPath","constructor","super","this","Route","HTMLElement","_name","_path","_routeParentNode","_routeChildNodes","_routerNode","_uuid","_placeHolder","document","createComment","_childNodeArray","_isMadeArray","_paramNames","_patternText","_params","_absolutePattern","_weight","_absoluteWeight","_childIndex","_hasGuard","_guardHandler","_waitForSetGuardHandler","_resolveSetGuardHandler","_guardFallbackPath","_initialized","_isFallbackRoute","routeParentNode","routeChildNodes","routerNode","path","isRelative","startsWith","_checkParentNode","hasParentCallback","noParentCallback","absolutePath","parentPath","endsWith","uuid","placeHolder","rootElement","shadowRoot","childNodeArray","Array","from","childNodes","testPath","testResult","exec","RegExp","absolutePatternText","absoluteParamNames","forEach","paramName","index","routes","lastPath","concat","patternText","parentPattern","weight","absoluteWeight","childIndex","name","guardCheck","matchResult","toPath","fromPath","show","parentNode","nextSibling","node","insertBefore","appendChild","nodeType","Node","ELEMENT_NODE","querySelectorAll","e","toLowerCase","hide","removeChild","shouldChange","newParams","guardHandler","initialize","push","length","fallbackRoute","segments","split","patternSegments","segment","substring","join","Promise","resolve","fullpath","cache","Map","Layout","_loadTemplateFromSource","source","response","fetch","ok","status","templateContent","text","set","error","_loadTemplateFromDocument","id","getElementById","HTMLTemplateElement","innerHTML","loadTemplate","layoutId","console","warn","template","createElement","get","_initialize","connectedCallback","Outlet","_routesNode","_lastRoutes","routesNode","rootNode","lastRoutes","attachShadow","mode","LayoutOutlet","_layout","_layoutChildNodes","content","cloneNode","childNode","fragmentForTemplate","slotElementBySlotName","slotElement","slotName","fragmentBySlotName","fragmentForChildNodes","createDocumentFragment","Element","fragment","replaceWith","defaultSlot","createLayoutOutlet","async","_parseNode","map","appendNode","childFragment","cloneElement","importNode","customElements","upgrade","children","parse","_matchRoutes","routeNode","results","nextRoutes","childRoute","applyRoute","fullPath","basename","slice","topLevelRoutes","sort","a","b","lastRouteA","at","lastRouteB","diffWeight","matchRoutes","routesSet","err","guardCancel","queueMicrotask","navigate","lastRouteSet","force","showRouteContent","getNavigation","nav","window","navigation","addEventListener","removeEventListener","Router","static","_outlet","_template","_basename","_fallbackRoute","_instance","_normalizePath","_getBasename","URL","baseURI","pathname","instance","_getOutlet","querySelector","body","_getTemplate","history","pushState","_onNavigateFunc","navEvent","canIntercept","hashChange","downloadRequest","intercept","handler","url","destination","_onNavigate","bind","hasBaseTag","location","href","disconnectedCallback","Link","_commentNode","_router","_anchorElement","commentNode","_updateActiveState","remove","currentPath","linkPath","classList","add","registerComponents","define"],"mappings":"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"}