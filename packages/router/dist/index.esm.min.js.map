{"version":3,"file":"index.esm.min.js","sources":["../src/config.ts","../src/getUUID.ts","../src/raiseError.ts","../src/assignParams.ts","../src/GuardCancel.ts","../src/components/Route.ts","../src/components/Layout.ts","../src/components/Outlet.ts","../src/components/LayoutOutlet.ts","../src/parse.ts","../src/matchRoutes.ts","../src/applyRoute.ts","../src/showRouteContent.ts","../src/Navigation.ts","../src/components/Router.ts","../src/components/Link.ts","../src/registerComponents.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["config","tagNames","route","router","outlet","layout","layoutOutlet","link","enableShadowRoot","getUUID","crypto","randomUUID","replace","c","r","Math","random","toString","raiseError","message","Error","bindTypeSet","Set","assignParams","element","params","hasAttribute","tagName","bindTypeText","getAttribute","has","bindType","key","value","Object","entries","props","states","setAttribute","GuardCancel","fallbackPath","constructor","super","this","Route","HTMLElement","_name","_path","_routeParentNode","_routeChildNodes","_routerNode","_uuid","_placeHolder","_childNodeArray","_isMadeArray","_paramNames","_patternText","_params","_absolutePattern","_weight","_absoluteWeight","_childIndex","_hasGuard","_guardHandler","_waitForSetGuardHandler","_resolveSetGuardHandler","_guardFallbackPath","_initialized","_isFallbackRoute","routeParentNode","routeChildNodes","push","length","routerNode","fallbackRoute","path","isRelative","startsWith","_checkParentNode","hasParentCallback","noParentCallback","absolutePath","parentPath","endsWith","uuid","placeHolder","rootElement","shadowRoot","childNodeArray","Array","from","childNodes","testPath","testResult","exec","RegExp","absolutePatternText","absoluteParamNames","forEach","paramName","index","routes","lastPath","concat","patternText","parentPattern","weight","absoluteWeight","childIndex","name","guardCheck","matchResult","toPath","fromPath","show","parentNode","nextSibling","node","insertBefore","appendChild","nodeType","Node","ELEMENT_NODE","querySelectorAll","e","toLowerCase","hide","removeChild","shouldChange","newParams","guardHandler","initialize","segments","split","patternSegments","segment","substring","join","Promise","resolve","cache","Map","Layout","_loadTemplateFromSource","source","response","fetch","ok","status","templateContent","text","set","error","_loadTemplateFromDocument","id","document","getElementById","HTMLTemplateElement","innerHTML","loadTemplate","layoutId","console","warn","template","createElement","get","_initialize","connectedCallback","Outlet","_routesNode","_lastRoutes","routesNode","rootNode","lastRoutes","attachShadow","mode","LayoutOutlet","_layout","_layoutChildNodes","content","cloneNode","childNode","fragmentForTemplate","slotElementBySlotName","slotElement","slotName","fragmentBySlotName","fragmentForChildNodes","createDocumentFragment","Element","fragment","replaceWith","defaultSlot","createLayoutOutlet","async","_parseNode","map","appendNode","childFragment","cloneElement","importNode","customElements","upgrade","createComment","children","parse","_matchRoutes","routeNode","results","nextRoutes","childRoute","applyRoute","fullPath","basename","slice","topLevelRoutes","sort","a","b","lastRouteA","at","lastRouteB","diffWeight","matchRoutes","routesSet","err","guardCancel","queueMicrotask","navigate","lastRouteSet","force","showRouteContent","getNavigation","nav","window","navigation","addEventListener","removeEventListener","Router","static","_outlet","_template","_basename","_fallbackRoute","_instance","_normalizePath","_getBasename","URL","baseURI","pathname","instance","_getOutlet","querySelector","body","_getTemplate","history","pushState","_onNavigateFunc","navEvent","canIntercept","hashChange","downloadRequest","intercept","handler","url","destination","_onNavigate","bind","hasBaseTag","location","href","disconnectedCallback","Link","_commentNode","_router","_anchorElement","commentNode","_updateActiveState","remove","currentPath","linkPath","classList","add","registerComponents","define"],"mappings":"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"}