{"version":3,"file":"index.esm.min.js","sources":["../src/config.ts","../src/getUUID.ts","../src/raiseError.ts","../src/assignParams.ts","../src/GuardCancel.ts","../src/components/Route.ts","../src/components/Layout.ts","../src/components/Outlet.ts","../src/components/LayoutOutlet.ts","../src/parse.ts","../src/matchRoutes.ts","../src/applyRoute.ts","../src/showRouteContent.ts","../src/Navigation.ts","../src/components/Router.ts","../src/components/Link.ts","../src/registerComponents.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["config","tagNames","route","router","outlet","layout","layoutOutlet","link","enableShadowRoot","basenameFileExtensions","getUUID","crypto","randomUUID","replace","c","r","Math","random","toString","raiseError","message","Error","bindTypeSet","Set","assignParams","element","params","hasAttribute","tagName","bindTypeText","getAttribute","has","bindType","key","value","Object","entries","props","states","setAttribute","GuardCancel","fallbackPath","constructor","super","this","Route","HTMLElement","_name","_path","_routeParentNode","_routeChildNodes","_routerNode","_uuid","_placeHolder","document","createComment","_childNodeArray","_isMadeArray","_paramNames","_patternText","_params","_absolutePattern","_weight","_absoluteWeight","_childIndex","_hasGuard","_guardHandler","_waitForSetGuardHandler","_resolveSetGuardHandler","_guardFallbackPath","_initialized","_isFallbackRoute","_segmentCount","routeParentNode","routeChildNodes","routerNode","path","isRelative","startsWith","_checkParentNode","hasParentCallback","noParentCallback","absolutePath","parentPath","endsWith","uuid","placeHolder","rootElement","shadowRoot","childNodeArray","Array","from","childNodes","testPath","testResult","exec","RegExp","absolutePatternText","absoluteParamNames","forEach","paramName","index","routes","lastPath","concat","patternText","parentPattern","weight","absoluteWeight","childIndex","name","guardCheck","matchResult","toPath","fromPath","show","parentNode","nextSibling","node","insertBefore","appendChild","nodeType","Node","ELEMENT_NODE","querySelectorAll","e","toLowerCase","hide","removeChild","shouldChange","newParams","guardHandler","initialize","push","length","fallbackRoute","segments","split","patternSegments","segmentCount","segment","substring","join","Promise","resolve","fullpath","absoluteSegmentCount","cache","Map","Layout","_loadTemplateFromSource","source","response","fetch","ok","status","templateContent","text","set","error","_loadTemplateFromDocument","id","getElementById","HTMLTemplateElement","innerHTML","loadTemplate","layoutId","console","warn","template","createElement","get","_initialize","connectedCallback","Outlet","_routesNode","_lastRoutes","routesNode","rootNode","lastRoutes","attachShadow","mode","LayoutOutlet","_layout","_layoutChildNodes","content","cloneNode","childNode","fragmentForTemplate","slotElementBySlotName","slotElement","slotName","fragmentBySlotName","fragmentForChildNodes","createDocumentFragment","Element","fragment","replaceWith","defaultSlot","createLayoutOutlet","async","_parseNode","map","appendNode","childFragment","cloneElement","importNode","customElements","upgrade","children","parse","_matchRoutes","routeNode","results","nextRoutes","childRoute","applyRoute","fullPath","basename","sliced","slice","topLevelRoutes","sort","a","b","lastRouteA","at","lastRouteB","diffSegmentCount","diffWeight","matchRoutes","routesSet","err","guardCancel","queueMicrotask","navigate","lastRouteSet","force","showRouteContent","getNavigation","nav","window","navigation","addEventListener","removeEventListener","Router","static","_outlet","_template","_basename","_fallbackRoute","_listeningPopState","_instance","_normalizePathname","exts","extPattern","_normalizeBasename","_joinInternalPath","to","base","_notifyLocationChange","dispatchEvent","CustomEvent","_getBasename","URL","baseURI","pathname","instance","_getOutlet","querySelector","body","_getTemplate","history","pushState","_onNavigateFunc","navEvent","canIntercept","hashChange","downloadRequest","intercept","handler","url","destination","_onNavigate","bind","_onPopState","location","hasBaseTag","href","disconnectedCallback","Link","_commentNode","_router","_anchorElement","_onClick","commentNode","p","internal","_updateActiveState","defaultPrevented","button","metaKey","ctrlKey","shiftKey","altKey","preventDefault","undefined","remove","currentPath","linkPath","classList","add","registerComponents","define"],"mappings":"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"}